<!DOCTYPE html>
<html lang="ko">
<head>
  
  <meta charset="UTF-8">
  <!--
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  -->
    <title>Project Zomboid B42 stats</title>
    <script>    // ë°°ê²½ìƒ‰ ê¸°ë³¸ê°’
      window.bgColorClass = "bg-white";
      window.bgbtbgColorClass = "bg-gray-200";
      window.textColorClass = "text-black";

      window.darkbgColorClass = "bg-gray-700";
      window.darkbtbgColorClass = "bg-gray-800";
      window.darktextColorClass = "text-white";

      window.blueBgColorClass = "bg-blue-500";

      const isDark = localStorage.getItem("darkMode") === "true";
      window.isDarkMode = isDark;
     
      //window.isDarkMode = ;window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? false : true  ;
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    
        <!-- íŒŒë¹„ì½˜ ì¶”ê°€ -->
        <link rel="icon" type="image/png" href="icons/Trait_slowlearner.png">
</head>
<body class="bg-white text-black flex items-center justify-center min-h-screen">
  <div class="w-full lg:max-w-5xl lg:mx-auto bg-gray-200 rounded-xl shadow p-4">
    
    <!-- ì™¼ìª½ ì „ì²´ (ìŠ¤í¬ë¡¤ë˜ëŠ” ë¶€ë¶„) -->
    <div class="flex-1 ">
      <!-- ìƒë‹¨ ê³ ì • ì˜ì—­ -->
      <div class="sticky top-0 bg-white z-10 p-4 rounded-2xl shadow-md max-h-[15vh]">
        <h2 id="titlename" class="lg:text-2xl sm:text-4xl font-bold mb-2 text-center">
          B42 project Zomboid ì§ì—… ë° íŠ¹ì„± ê³„ì‚°ê¸° 
        </h2>

        <div class="flex space-x-2 mb-4">
          <!-- ëª¨ë‹¬ ì—´ê¸° ë²„íŠ¼ -->
          <button id="openModalBtn" class="px-4 py-2 bg-blue-500 text-white lg:text-lg sm:text-2xl rounded-lg shadow">
            ê³µì§€ì‚¬í•­
          </button>
          <button id="toggleDark" class="px-4 py-2 lg:text-lg sm:text-2xl bg-gray-200 rounded">ì–´ë‘ ì˜Dark</button>
          <button id="lang-ko" class="px-4 py-2 lg:text-lg sm:text-2xl bg-gray-200 rounded">í•œêµ­ì–´</button>
          <button id="lang-en" class="px-4 py-2 lg:text-lg sm:text-2xl bg-gray-200 rounded">English</button>
        </div>
      </div>
  
    <!-- ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ, ìµœëŒ€ë†’ì´-->
    <div class="grid grid-cols-2 grid-rows-2 gap-2 lg:flex lg:space-x-4 sm:max-h-[60vh] lg:max-h-[70vh]">

      

      <!-- ê²°ê³¼ -->
      <div id="result-panel" class="border rounded-xl p-2 overflow-y-auto lg:w-40 min-w-[240px] mg-2">
        <h3 id="result-preview" class="lg:text-lg sm:text-2xl font-bold text-center lg:hidden">ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸°</h3> <!--UIë³€ê²½í•¨ìˆ˜ í™•ì¸-->
        
        <div id="result-sum" class="gap-2 p-3 border rounded-md bg-white shadow text-md lg:text-md sm:text-2xl mr-2 font-bold text-center">
          í•©ê³„: 0
        </div>

        <div id="resultPn" class="lg:columns-1 sm:columns-2 gap-2">
            <!--
            <div id="result-sum" class="gap-2 p-3 border rounded-md bg-white shadow lg:text-md sm:text-2xl mr-2 font-bold text-center text-green-600">
              í•©ê³„: 0
            </div>
            -->
            <div id="result-strength" class="gap-2 px-2 py-1 border rounded-md bg-white shadow lg:text-sm sm:text-2xl mr-2 text-center text-black-600">
              ê·¼ë ¥: 0
            </div>
            <div id="result-fitness" class="gap-2 px-2 py-1 border rounded-md bg-white shadow lg:text-sm sm:text-2xl mr-2 text-center text-black-600">
              ì²´ë ¥: 0
            </div>
          
        </div>
        <div id="result-icons">
          <!-- ì§ì—… ì•„ì´ì½˜ -->
          <div id="job-icons" class="flex justify-center gap-2 mb-2"></div>

          <!-- ì¼ë°˜ ì•„ì´ì½˜ -->
          <div id="other-icons" class="flex flex-wrap justify-center gap-2 mr-1"></div>
        </div>
      
      </div>
      <!-- ì§ì—… -->
      <div id="jobs" class="border rounded-md p-2 overflow-y-auto lg:flex-1 min-w-[200px] ">
        <h3 class="text-lg font-bold text-center lg:hidden">ì§ì—…</h3>
      </div>
      <!-- ê¸ì • -->
      <div id="positive-items" class="border rounded-md p-2 overflow-y-auto lg:flex-1 min-w-[150px]">
        <h3 class="text-lg font-bold text-center lg:hidden">ê¸ì •</h3>
      </div>

      <!-- ë¶€ì • -->
      <div id="negative-items" class="border rounded-md p-2 overflow-y-auto lg:flex-1 min-w-[150px]">
        <h3 class="text-lg font-bold text-center lg:hidden">ë¶€ì •</h3>
      </div>

    </div>
  </div>
  <!-- ê²°ê³¼ìƒì„± ë²„íŠ¼ -->
   <!--
  <div class="flex justify-center mt-4 w-full">
    <button id="generateResultBtn" class="px-6 py-8 bg-blue-500 text-white lg:text-2xl sm:text-4xl rounded-lg shadow w-full">
      ê²°ê³¼ ìƒì„±
    </button>
  </div>
  -->
  <div class="mt-4 flex justify-center space-x-4 w-full">
    <button id="generateResultBtn" 
            class="flex-1 px-6 py-8 bg-white text-black lg:text-2xl sm:text-4xl rounded-lg shadow">
      ê²°ê³¼ ìƒì„±
    </button>

    <button id="gameStartBt" 
            class="flex-1 px-4 py-6 bg-blue-500 text-white rounded-lg sm:text-4xl lg:text-2xl">
      ???:ì§„í–‰ì‹œì¼œ
    </button>
  </div>
  
  <!-- í•˜ë‹¨ ë°” -->
  <div class="mt-4 text-center">
    <p class="text-gray-500 text-2xl lg:text-sm"> <span id="version-text"></span> | ì œì‘ì: K0KK0R0 |
      í”„ì¢€ê°¤: <a href="https://gall.dcinside.com/mgallery/board/lists/?id=pzom" target="_blank" class="text-blue-500 underline text-2xl lg:text-sm">ë§í¬</a> |
       ìœ„í‚¤ ë§í¬: 
       <a href="https://pzwiki.net/wiki/Trait" target="_blank" class="text-blue-500 underline text-2xl lg:text-sm"> Trait</a> ,
       <a href="https://pzwiki.net/wiki/Occupation" target="_blank" class="text-blue-500 underline text-2xl lg:text-sm"> Occupation</a>  | 
       
    </p>
  </div>

  <!-- ëª¨ë‹¬ (ì²˜ìŒì—” hidden) -->
  <div id="modal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-80 z-50">
    <div id="noticeTxt" class="bg-white rounded-2xl shadow-xl w-full max-w-2xl lg:max-w-2xl p-6 relative">
      <!-- ë‹«ê¸° ë²„íŠ¼ -->
      <button id="closeModalBtn" class="absolute top-2 right-2 text-gray-600 hover:text-black text-2xl sm:text-4xl">
        âœ•
      </button>
      
      <h2 class="text-4xl lg:text-xl  font-bold mb-4">ê³µì§€ì‚¬í•­ </h2>
      <!--<p class="mb-2 text-3xl md:text-lg"> ğŸ“¢ <span id="version-text2"></span> ì—…ë°ì´íŠ¸ ì•ˆë‚´</p>-->
      <div id="noticeContent" class="text-lg max-h-[480px] overflow-y-auto"></div>
      <p> ** ë³¸ í•­ëª©ì€ ì •í™•í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. </p>
      <p> ** ìì„¸í•œ ë‚´ìš©ì€ ê³µì‹ ìœ„í‚¤ë¥¼ ì°¸ê³ í•˜ì„¸ìš”. </p>

    </div>
  </div>
  <!-- ê²Œì„ ëª¨ë‹¬ -->
   <div id="gameModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-90 z-50 hidden">
    <div class="relative bg-gray-600 w-[95vw] lg:w-[960px] lg:max-w-[70vw] sm:min-h-[840px] lg:min-h-[720px] max-h-[800px] sm:max-h-[800px] rounded-2xl shadow-xl bg-gray-600">
      <!-- ë‹«ê¸° ë²„íŠ¼ -->
      <button id="closeGameModalBtn" class="absolute top-2 right-2 z-50 text-white-600 hover:text-black text-2xl sm:text-4xl">
        âœ•
      </button> 

      <!-- ìƒë‹¨ ì•„ì´í…œ ë°” -->
      <div class="flex items-center bg-gray-600 px-3 py-2">
        <div class="flex gap-2 space-x-1">
          <!-- ì§€ì—­ ì„¤ë¹„ë“¤ -->
          <div id="Icon_storage" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/storage.png" alt="ë³´ê´€í•¨" class="w-full h-full p-2">
            <img src="images/Enabled.png" id="Enable_storage" class="absolute inset-0 w-full h-full object-contain">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ë³´ê´€í•¨
            </span>
          </div>
          <!--ë¼ì´ë¸ŒìŠ¤í†¡ ê´€ë¦¬-->
          <div id="Icon_livestock" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/livestock.png" alt="ê°€ì¶• ê´€ë¦¬" class="w-full h-full p-2">
            <img src="images/Enabled.png" id="Enable_livestock" class="w-full h-full">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ê°€ì¶• ê´€ë¦¬
            </span>
          </div>


          <div id="Icon_generator" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/generator.png" alt="ë°œì „ê¸°(ì¼œì§)" class="w-full h-full p-2">
            <img src="images/Enabled.png" id="Enable_generator" class="absolute inset-0 w-full h-full object-contain">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ë°œì „ê¸°
            </span>
          </div>
         
          <div id="Icon_bed" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/bed.png" alt="ì¹¨ëŒ€" class="w-full h-full p-2">
            <img src="images/Enabled.png" id="Enable_bed" class="absolute inset-0 w-full h-full object-contain">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ì¹¨ëŒ€
            </span>
          </div>
          <div id="Icon_sofa" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/sofa.png" alt="ì†ŒíŒŒ" class="w-full h-full p-2">
            <img src="images/Enabled.png" id="Enable_sofa" class="absolute inset-0 w-full h-full object-contain">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ì†ŒíŒŒ
            </span>
          </div>
          <div id="Icon_faucet" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/faucet.png" alt="ìˆ˜ì „" class="w-full h-full p-2">
            <img src="images/Enabled.png" id="Enable_faucet" class="absolute inset-0 w-full h-full object-contain">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ìˆ˜ì „
            </span>
          </div>
          <div id="Icon_water" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/water.png" alt="ìˆ˜ì›" class="w-full h-full p-2">
            <img src="images/Enabled.png" id="Enable_water" class="absolute inset-0 w-full h-full object-contain">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ìˆ˜ì „
            </span>
          </div>
          <div id="Icon_oven" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/oven.png" alt="ì˜¤ë¸" class="w-full h-full p-2">
            <img src="images/Enabled.png" id="Enable_oven" class="absolute inset-0 w-full h-full object-contain">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ì˜¤ë¸
            </span>
          </div>
          <div id="Icon_micro" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/micro.png" alt="ì „ìë Œì§€" class="w-full h-full p-2">
            <img src="images/Enabled.png" id="Enable_micro" class="absolute inset-0 w-full h-full object-contain">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ì „ìë Œì§€
            </span>
          </div>
          <div id="Icon_fridge" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/fridge.png" alt="ëƒ‰ì¥ê³ " class="w-full h-full p-2">
            <img src="images/Enabled.png" id="Enable_fridge" class="absolute inset-0 w-full h-full object-contain">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ëƒ‰ì¥ê³ 
            </span>
          </div>
          <div id="Icon_radio" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/radio.png" alt="ë¼ë””ì˜¤" class="w-full h-full p-2">
            <img src="images/Enabled.png" id="Enable_radio" class="absolute inset-0 w-full h-full object-contain">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ë¼ë””ì˜¤
            </span>
          </div>
          
        </div>
      </div>

      <!-- ë©”ì¸ ë°°ê²½í™”ë©´ -->
      <div class="flex-grow flex items-center justify-center">
        <div id="Scene" class="relative w-full max-h-[600px] bg-gray-600 border-4 border-gray-500 overflow-hidden">
          <img id="mainBg" src="images/bg0_dark.png" alt="ê²Œì„í™”ë©´" class="w-full h-full object-cover  z-10">
          <!-- ë‚ ì§œ í…ìŠ¤íŠ¸ (ì´ë¯¸ì§€ ì•ˆìª½ ìƒë‹¨ì— í‘œì‹œë¨) -->
          <span id="timer" class="absolute top-2 left-2 text-white text-2xl font-bold bg-black/60 px-3 py-1 rounded z-50">
            7ì›” 4ì¼ 07:00
          </span>
          <span id="mapName" class="absolute top-2 right-2 text-white text-xl font-bold bg-black/60 px-3 py-1 rounded z-50">
            ì›¨ìŠ¤íŠ¸í¬ì¸íŠ¸ : ê°€ì •ì§‘
          </span>
          <span id="zombieNum" class="absolute bottom-4 right-10 text-white text-2xl font-bold bg-black/60 px-3 py-1 rounded z-50">
            ë‚¨ì€ ì¢€ë¹„ : 2
          </span>

          <!--ì²´ë ¥ë°”-->
          <div id="healthBox" class="absolute top-16 left-4 z-50 w-48 h-6 rounded bg-gray-600 overflow-hidden">
            <div id="healthBar" class="h-full bg-red-500 transition-all duration-300" style="width: 70%;"></div>
            <span id="healthTxt" class="absolute inset-0 font-bold text-md text-black flex justify-center items-center">
              70 / 100
            </span>
          </div>
          <!--ìŠ¤íƒœë¯¸ë„ˆë°”-->
          <div id="staminaBox" class="absolute top-24 left-4 z-50 w-48 h-6 rounded bg-gray-600 overflow-hidden">
            <div id="staminaBar" class="h-full bg-yellow-300 transition-all duration-300" style="width: 70%;"></div>
            <span id="staminaTxt" class="absolute inset-0 font-bold text-md text-black flex justify-center items-center">
              70 / 100
            </span>
          </div>
          <!--
          <div id="atHomeBt" class="absolute w-24 h-24 top-36 left-12 z-50 w-20 h-20 rounded">
            <img src="images/prevBt.png" alt="" class="w-full h-full">
            <span id="prevMapTxt" class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ì§‘ìœ¼ë¡œ
            </span>
          </div>
          <div id="nextMapBt" class="absolute w-24 h-24 top-36 right-12 z-50 w-20 h-20 rounded">
            <img src="images/nextBt.png" alt="" class="w-full h-full">
            <span id="nextMapTxt" class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ë‹¤ìŒ ì§€ì—­ìœ¼ë¡œ
            </span>
          </div>
          -->
          <!-- í”Œë ˆì´ì–´ (ì™¼ìª½ ì•„ë˜ ë°°ì¹˜) -->
           <!--
          <img src="images/player.png" 
              id="player"
              class="absolute bottom-4 left-40 w-16 h-32 z-20 transition-all duration-100">
              -->
          <div id="player" class="absolute bottom-4 w-16 h-32 z-20 transition-all duration-100">
            <img src="images/player.png" class="absolutew-full h-full">
            <img id="equipWp" src="icons/default.png" class="absolute bottom-4 left-0 w-12 h-12 rotate-90">
          </div>
          <img src="images/playerRest.png" 
              id="playerRest"
              class="absolute bottom-4 left-[100px] w-20 h-20 z-20 transition-all duration-100 hidden">
           <img src="images/playerzb.png" 
              id="playerZb"
              class="absolute bottom-4 left-[100px] w-20 h-20 z-20 transition-all duration-100 hidden">




          <!-- ë¬´ê¸°ì°½ ì•„ì´ì½˜ (ìˆ¨ê¹€) -->
          <div id="weaponIcon" class="absolute top-16 left-4 z-50 w-20 h-20 rounded bg-gray-200 hidden">
            <img id="weaponImg" src="images/attackBt.png" alt="ë¬´ê¸°" class="w-full h-full p-2 z-50" >
            <span id="weaponName" class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ë¬´ê¸°ì´ë¦„
            </span>
          </div>
          <!-- ê°€ë°© ì•„ì´ì½˜  -->
          <div id="backpackIcon" class="absolute bottom-4 left-4 z-50 w-20 h-20 rounded bg-gray-200">
            <img id="backpackImg" src="Base/Backpacks/SheetSlingBag.png" alt="ê°€ë°©" class="w-full h-full p-2 z-50" >
            <span id="backpackName" class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ê°€ë°©
            </span>
          </div>
          <!-- ë¬´ë“¤ ì•„ì´ì½˜ë“¤ -->
          <div class="flex flex-col items-center gap-2 absolute top-12 right-2 ">
            <div id="Moodle_Icon_Tired" class="w-16 h-12 rounded bg-gray-600/80">      
              <img src="uxicons/Moodle_Icon_Tired.png" alt="Tired" class="absolute w-12 h-12 z-50" >
              <img id="pgBar_Tired" src="uxicons/pgbar-1.png" alt="" class="absolute w-16 h-12 z-50" > 
            </div>
            <div id="Moodle_Icon_Endurance" class="w-16 h-12 rounded bg-gray-600/80">      
              <img src="uxicons/Moodle_Icon_Endurance.png" alt="Endurance" class="absolute w-12 h-12 z-50" >
              <img id="pgBar_Endurance" src="uxicons/pgbar-3.png" alt="" class="absolute w-16 h-12 z-50" > 
            </div>
            <div id="Moodle_Icon_Panic" class="w-16 h-12 rounded bg-gray-600/80">  
              <img src="uxicons/Moodle_Icon_Panic.png" alt="Panic" class="absolute w-12 h-12 z-50" >
              <img id="pgBar_Panic" src="uxicons/pgbar-2.png" alt="" class="absolute w-16 h-12 z-50" > 
            </div>
            <div id="Moodle_Icon_Sick" class="w-16 h-12 rounded bg-gray-600/80">   
              <img src="uxicons/Moodle_Icon_Sick.png" alt="Sick" class="absolute w-12 h-12 z-50" >
              <img id="pgBar_Sick" src="uxicons/pgbar-1.png" alt="" class="absolute w-16 h-12 z-50" > 
            </div>
            <div id="Moodle_Icon_Stressed" class="w-16 h-12 rounded bg-gray-600/80">  
              <img src="uxicons/Moodle_Icon_Stressed.png" alt="Stressed" class="absolute w-12 h-12 z-50" >
              <img id="pgBar_Stressed" src="uxicons/pgbar-2.png" alt="" class="absolute w-16 h-12 z-50" > 
            </div>
            <div id="Moodle_Icon_Bleeding" class="w-16 h-12 rounded bg-gray-600/80">  
              <img src="uxicons/Moodle_Icon_Bleeding.png" alt="Bleeding" class="absolute w-12 h-12 z-50" >
              <img id="pgBar_Bleeding" src="uxicons/pgbar-2.png" alt="" class="absolute w-16 h-12 z-50" > 
            </div>
            <div id="Moodle_Icon_Zombie" class="w-16 h-12 rounded bg-gray-600/80">  
              <img src="uxicons/Moodle_Icon_Zombie.png" alt="Zombie" class="absolute w-12 h-12 z-50" >
              <img id="pgBar_Zombie" src="uxicons/pgbar-2.png" alt="" class="absolute w-16 h-12 z-50" > 
            </div>
          </div>
        </div>
      </div>

      
     <!-- ê²°ê³¼ í…ìŠ¤íŠ¸ì°½ -->
      <div class="bg-gray-600 px-3 py-2 mt-0 rounded">
        <div id="logText" class="flex flex-col overflow-y-auto max-h-40">
          <!-- ë¡œê·¸ê°€ ì—¬ê¸°ì— ëˆ„ì ë¨ -->
        </div>
      </div>

    </div>
     <!-- í•˜ë‹¨ ë²„íŠ¼ ë°” -->
    <div class="flex items-center bg-gray-400 px-3 py-2 z-50 hover rounded absolute bottom-5">
        <div class="flex gap-2 space-x-1">
        <!-- ì•¡ì…˜ ë²„íŠ¼ë“¤ -->
          <div id="atHomeBt" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/prevBt.png" alt="" class="w-full h-full">
            <span id="prevMapTxt" class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ì§‘ìœ¼ë¡œ
            </span>
          </div>
          <div id="pushBt" class="lg:w-32 lg:h-16 sm:w-32 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/pushBt.png" alt="ë°€ì¹˜ê¸°" class="w-14 h-14">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ë°€ì¹˜ê¸°
            </span>
          </div>
          <div id="attackBt" class="lg:w-32 lg:h-16 sm:w-32 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/attackBt.png" alt="ê³µê²©í•˜ê¸°" class="w-14 h-14">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ê³µê²©í•˜ê¸°
            </span>
          </div>
        
          <div id="restBt" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/restBt.png" alt="íœ´ì‹" class="w-14 h-14">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              íœ´ì‹
            </span>
          </div>
          <div id="sleepBt" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white hidden">
            <img src="images/sleepBt.png" alt="ì ìê¸°" class="w-14 h-14">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ì ìê¸°
            </span>
          </div>
          <div id="skillBt" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/skillBt.png" alt="ìŠ¤í‚¬ì°½" class="w-14 h-14">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ìŠ¤í‚¬ ì°½
            </span>
          </div>
          <div id="bandingBt" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/banding.png" alt="ë¶•ëŒ€ê°ê¸°" class="w-14 h-14">
            <span class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ë¶•ëŒ€ê°ê¸°
            </span>
          </div>
         
          <div id="nextMapBt" class="lg:w-16 lg:h-16 sm:w-24 sm:h-24 rounded relative flex items-center justify-center bg-white">
            <img src="images/nextBt.png" alt="" class="w-full h-full">
            <span id="nextMapTxt" class="absolute bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ë‹¤ìŒ ì§€ì—­
            </span>
          </div>
      </div>
    </div>
  </div>
 
  <!-- ìŠ¤í‚¬ ëª¨ë‹¬ -->
  <div id="skillModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50 hidden">
    <div class="bg-white rounded-2xl shadow-xl w-[90vw] max-w-2xl p-6 relative">
      <!-- ë‹«ê¸° ë²„íŠ¼ -->
      <!--<button id="closeSkillModal" class="absolute top-2 right-4 text-gray-600 hover:text-black text-2xl font-bold">âœ•</button>
    -->
      <h2 class="text-2xl font-bold mb-4 text-center">ğŸ¯ í”Œë ˆì´ì–´ ìŠ¤í‚¬</h2>
      
      <!-- ìŠ¤í‚¬ ëª©ë¡ì´ ì—¬ê¸°ì— ìë™ìœ¼ë¡œ ì¶”ê°€ë¨ -->
      <div id="skillList" class="grid grid-cols-2 gap-3"></div>
    </div>
  </div>
  <!-- 
  <div id="inventoryModal"
  class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden">

  <div class="bg-gray-800 text-white rounded-2xl shadow-xl w-[90vw] h-[70vh] max-w-[960px] p-6 flex flex-col gap-6">

    

    <div class="flex-1 border border-gray-600 rounded-xl p-4">
      <h2 class="text-lg font-bold mb-2 text-center">ğŸ’ í”Œë ˆì´ì–´ ì¸ë²¤í† ë¦¬</h2>

      <div id="inventory_player" class="grid gap-2 grid-cols-[repeat(auto-fill,minmax(64px,1fr))] sm:grid-cols-[repeat(auto-fill,minmax(96px,1fr))]">
       
        <div class="w-16 sm:w-24 h-16 sm:h-24 bg-gray-700 rounded"></div>
        <div class="w-16 sm:w-24 h-16 sm:h-24 bg-gray-700 rounded"></div>
        <div class="w-16 sm:w-24 h-16 sm:h-24 bg-gray-700 rounded"></div>
      </div>
    </div>

    </div>
  </div>
  
  ì¸ë²¤í† ë¦¬ ëª¨ë‹¬ -->

  <!--ë³´ê´€í•¨ ëª¨ë‹¬-->
  <div id="storageModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden">
    <div class="grid grid-col-1 bg-gray-800 rounded-xl shadow-xl gap-2 p-6">
     <div class="bg-gray-800 text-white rounded-2xl shadow-xl w-[90vw] max-w-[960px] 
              
                h-[50vh] lg:h-[70vh] min-h-[720px]
                grid lg:grid-cols-2 sm:grid-cols-1 lg:grid-rows-1 sm:grid-rows-2 gap-4">
      <!-- ë³´ê´€í•¨ -->
      <div class="relative flex-1 border border-gray-500 rounded-xl p-4 overflow-y-auto">
        <h2 id="storage_weightTxt" class="absolute top-4 right-4 text-2xl"></h2>
        <div id="storageTag" class="mg-2 gap-2 flex p-2">
          <button class="text-xl font-bold p-2 border rounded bg-blue-400">ğŸ“¦ë³´ê´€í•¨</button>
          <button class="text-xl font-bold p-2 border rounded bg-slate-400">âš°ì‹œì²´</button>
          <button class="text-xl font-bold p-2 border rounded bg-slate-400">âš°ì‹œì²´</button>
        </div>
        <div id="storage_storage"
          class="grid gap-4 grid-cols-[repeat(auto-fill,minmax(96px,0fr))] lg:grid-cols-[repeat(auto-fill,minmax(64px,0fr))]">
          
        </div>
        <h3 class="absolute bottom-4 left-4 text-2xl"> ì•„ì´í…œì„ ê¾¹ ëˆ„ë¥´ë©´ ì •ë³´ë¥¼ í™•ì¸í•˜ê±°ë‚˜ ì¥ì°©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ </h3>
      </div>
      
      <!-- í”Œë ˆì´ì–´ ì¸ë²¤í† ë¦¬ -->
      <div class="relative flex-1 border border-gray-500 rounded-xl p-4 overflow-y-auto">
        <h2 class="text-xl font-bold mb-2">ğŸ¦ºì¥ë¹„ ìŠ¬ë¡¯ </h2>
            <!-- ì¥ë¹„ ìŠ¬ë¡¯ -->
        <div id="equipmentSlots" class="grid grid-cols-6 gap-2 justify-items-center">
          <!-- ë¬´ê¸° -->
          <div class="flex flex-col items-center">
            <div class="relative overflow-hidden p-4 w-24 h-24 lg:w-16 lg:h-16 bg-gray-700 rounded flex items-center justify-center">
              <div id="equipIcon_weapon_bar" class="absolute bottom-0 left-0 right-0 rounded-b "> </div>
              <img id="equipIcon_weapon" src="icons/default.png" class="absolute z-50 p-2 w-full h-full object-contain" alt="ë¬´ê¸°">
              <span id="equipName_weapon" class="absolute z-50 bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              âš”ë¬´ê¸°
              </span>
            </div>
          </div>
          <!-- ëª¨ì -->
          <div class="flex flex-col items-center">
            <div class="relative overflow-hidden p-4 w-24 h-24  lg:w-16 lg:h-16 bg-gray-700 rounded flex items-center justify-center">
              <div id="equipIcon_hat_bar" class="absolute bottom-0 left-0 right-0 rounded-b  "> </div>
              
              <img id="equipIcon_hat" src="icons/default.png" class="absolute z-50 p-2 w-full h-full object-contain" alt="ëª¨ì">
              <span id="equipName_hat" class="absolute z-50 bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ğŸ©ëª¨ì
              </span>
            </div>
          </div>
          <!-- ë°©ì–´êµ¬ -->
          <div class="flex flex-col items-center">
            <div class="relative overflow-hidden p-4 w-24 h-24  lg:w-16 lg:h-16 bg-gray-700 rounded flex items-center justify-center">
              <div id="equipIcon_armor_bar" class="absolute bottom-0 left-0 right-0 rounded-b  "> </div>
              <img id="equipIcon_armor" src="icons/default.png" class="absolute z-50 p-2 w-full h-full object-contain" alt="ë°©ì–´êµ¬">
              <span id="equipName_armor" class="absolute z-50 bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ğŸ‘šë°©ì–´êµ¬
              </span>
            </div>
          </div>
          <!-- ë°”ì§€ -->
          <div class="flex flex-col items-center">
            <div class="relative overflow-hiddene p-4 w-24 h-24  lg:w-16 lg:h-16 bg-gray-700 rounded flex items-center justify-center">
              <div id="equipIcon_pants_bar" class="absolute bottom-0 left-0 right-0 rounded-b  "> </div>
              <img id="equipIcon_pants" src="icons/default.png" class="absolute z-50 p-2 w-full h-full object-contain" alt="ë°”ì§€">
              <span id="equipName_pants" class="absolute z-50 bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ğŸ‘–ë°”ì§€
              </span>
            </div>
          </div>
           <!-- ì‹ ë°œ -->
          <div class="flex flex-col items-center">
            <div class="relative overflow-hidden p-4 w-24 h-24  lg:w-16 lg:h-16 bg-gray-700 rounded flex items-center justify-center">
              <div id="equipIcon_shoes_bar" class="absolute bottom-0 left-0 right-0 rounded-b  "> </div>
              
              <img id="equipIcon_shoes" src="icons/default.png" class="absolute z-50 p-2 w-full h-full object-contain" alt="ì‹ ë°œ">
              <span id="equipName_shoes" class="absolute z-50 bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ğŸ‘Ÿì‹ ë°œ
              </span>
            </div>
          </div>
           <!-- ì•…ì„¸ì„œë¦¬ -->
          <div class="flex flex-col items-center">
            <div class="relative overflow-hidden p-4 w-24 h-24  lg:w-16 lg:h-16 bg-gray-700 rounded flex items-center justify-center">
              <div id="equipIcon_accessory_bar" class="absolute bottom-0 left-0 right-0 rounded-b  "> </div>
              
              <img id="equipIcon_accessory" src="icons/default.png" class="absolute z-50 p-2 w-full h-full object-contain" alt="ì•…ì„¸ì„œë¦¬">
              <span id="equipName_accessory" class="absolute z-50 bottom-0 left-0 right-0 text-md text-white bg-black/80 text-center rounded-b">
              ğŸ’ì•…ì„¸ì„œë¦¬
              </span>
            </div>
          </div>

        </div>

        <h2 id="inventory_weightTxt" class="absolute top-4 right-4 text-2xl"></h2>
        <h2 class="text-xl font-bold mb-2">ğŸ’í”Œë ˆì´ì–´ ì¸ë²¤í† ë¦¬ </h2>
        <div id ="storage_player"
          class="grid gap-4 grid-cols-[repeat(auto-fill,minmax(96px,0fr))] lg:grid-cols-[repeat(auto-fill,minmax(64px,0fr))]">
          <!--<div class="w-24 lg:w-16 bg-gray-700 rounded aspect-square"></div>-->
        </div>
        
      </div>
      
    </div>
     </div>
  </div>
  <!-- ìƒì„¸ë©”ë‰´ ëª¨ë‹¬ -->
  <div id="itemSubOption" class="fixed inset-0 flex items-center justify-center z-50 hidden">
    <div id="optionBoxes" class="grid grid-col-1 gap-2 absolute bg-slate-500/80 rounded p-2">
      <!-- <button id="option0" class="bg-gray-500 text-2xl">ì˜µì…˜0</button>-->
        
    </div>
      
  </div>
  <!-- ---------- ì•„ì´í…œ ëª¨ë‹¬ HTML (body ëë¶€ë¶„ì— ë„£ìœ¼ì„¸ìš”) ---------- -->
  <div id="itemModal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black/60 p-4">
    <div class="w-[60vw] max-w-[480px] bg-white text-black rounded-2xl shadow-xl overflow-hidden">
      <div class="flex items-center justify-between p-4 border-b">
        <h3 id="itemModalTitle" class="text-lg font-bold">ì•„ì´í…œ ì •ë³´</h3>
        <!--<button id="itemModalClose" class="text-2xl leading-none px-2 py-1 hover:text-gray-700 ">âœ•</button>-->
      </div>

      <div class="p-4 space-y-3">
        <!-- ìƒë‹¨ ìš”ì•½(ì´ë¯¸ì§€ + name + type) -->
        <div class="flex gap-3 items-center">
          <div id="itemModalImg" class="w-20 h-20 bg-gray-100 rounded flex items-center justify-center overflow-hidden">
            <!-- ì´ë¯¸ì§€ê°€ ìˆìœ¼ë©´ ë„£ìŒ -->
            <img id="itemModalImgTag" src="" alt="" class="w-full h-full object-contain hidden">
          </div>
          <div class="flex-1">
            <div id="itemName" class="text-2xl font-semibold"></div>
            <div id="itemType" class="text-xl text-gray-500"></div>
            <div id="itemLink" class="text-lg text-gray-500"> base</div>
            
          </div>
        </div>

        <!-- ìƒì„¸ í…Œì´ë¸” -->
        <div id="itemModalSubmenu" class="grid grid-cols-2 gap-2 text-sm">
          <!--<div class="text-gray-600 text-xl">Multi Hit</div><div id="field-multiHit" class="font-medium text-xl"></div>-->
          
        </div>
        <div id="field_info" class="text-gray-600 text-lg whitespace-pre-line"></div>
        <!-- ì»¨ë””ì…˜ ë°” -->
        <div id="field-condition">
          <div class="text-gray-600  text-sm mb-1">Condition <span id="field-conditionText" class="font-semibold"></span></div>
          <div class="w-full bg-gray-200  rounded-full h-4 overflow-hidden">
            <div id="field-conditionBar" class="h-full transition-all" style="width: 0%"></div>
          </div>
          <div class="text-xs text-gray-500 mt-1"><span id="field-conditionLowerChance"></span></div>
        </div>
      </div>
      <!--
      <div class="flex items-center justify-end gap-2 p-3 border-t ">
        <button id="itemModalClose2" class="px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 ">ë‹«ê¸°</button>
      </div>
      -->
    </div>
  </div>
  <!-- í•œ ì¤„ ê²½ê³ ì°½ -->
  <div id="infoModal" class="fixed inset-0 z-50 flex items-start justify-center bg-black/20 p-4 hidden">
    <div class="w-full h-20 bg-black/80 text-black rounded-2xl shadow-xl grid items-center mt-[40vh]">
      <span id="infoModalTxt" class="text-2xl text-white text-center">í„´ ë„˜ê¸°ëŠ” ì¤‘...</span>
    </div>
  </div>
  <!-- ê²°ê³¼ê°’ ëª¨ë‹¬-->
  <div id="resultModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-80 z-50 hidden">
    <div class="bg-white rounded-2xl shadow-xl w-full max-w-2xl lg:max-w-xl p-6 relative">
      <!-- ë‹«ê¸° ë²„íŠ¼ -->
      <button id="closeResultModalBtn" class="absolute top-2 right-2 text-gray-600 hover:text-black text-2xl sm:text-4xl">
        âœ•
      </button>
      
      <h2 class="text-4xl lg:text-xl  font-bold mb-4">ê²°ê³¼ ì¶œë ¥í•˜ê¸° </h2>
      <div id="detailedResults" class="text-2xl lg:text-lg space-y-4">
        <!-- ìƒì„¸ ê²°ê³¼ ë‚´ìš©ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤. -->
      </div>
      
     
      <div class="mt-4 text-center space-x-4">
        <button id="saveImgBt" class="px-4 py-6 mg-2 bg-gray-200 rounded-lg sm:text-4xl lg:text-2xl">ì €ì¥í•˜ê¸°</button>  
        
        <!--
        <button id="gameStartBt" class="px-4 py-6 mg-4 bg-blue-500 text-white rounded-lg sm:text-4xl lg:text-2xl"> ???:ì§„í–‰ì‹œì¼œ </button>
        -->
      </div>
     
    </div>
  </div>
<!--//////////////////////////////////////////////////////////////////////////////////////////////////////-->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script>
    let version = "0.4.12.16"; // â† ë²„ì „ ìˆ«ì ë³€ìˆ˜
    document.getElementById("version-text").textContent = `ver ${version}`;
    //ë‹¤í¬ëª¨ë“œ ë²„íŠ¼
    document.getElementById("toggleDark").addEventListener("click", () => {
      document.body.classList.toggle("dark");
      isDarkMode = !isDarkMode;
      renderUI();
      localStorage.setItem("darkMode", isDarkMode);
    });
    //ê³µì§€ì‚¬í•­ ëª¨ë‹¬
    const modal = document.getElementById("modal");
    const openBtn = document.getElementById("openModalBtn");
    const closeBtn = document.getElementById("closeModalBtn");

    openBtn.addEventListener("click", () => {
      modal.classList.remove("hidden");
    });

    closeBtn.addEventListener("click", () => {
      modal.classList.add("hidden");
    });
    document.addEventListener("DOMContentLoaded", () => {
    const noticeContent = document.getElementById("noticeContent");

    fetch("notice.json")
      .then(res => res.json())
      .then(data => {
        let html = `<p class="mb-2 text-xl">ğŸ“¢ ${data.version} ì—…ë°ì´íŠ¸ ì•ˆë‚´</p>`;
        html += "<ul>";
        data.changes.forEach(item => {
          html += `<li class="mb-1 lg:text-2xl sm:text-2xl ">- ${item}</li>`;
        });
        //html += "</ul><p class='mt-2 text-2xl lg:text-lg text-gray-600'>" + data.note + "</p>";
        noticeContent.innerHTML = html;
        version = data.version;
        document.getElementById("version-text").textContent = `ver ${version}`;
      })
      .catch(err => {
        noticeContent.innerHTML = `<p style="color:red">ê³µì§€ì‚¬í•­ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</p>`;
        console.error(err);
      });
    });


    //ê²Œì„ì‹œì‘ë²„íŠ¼
    const gameStartBtn = document.getElementById("gameStartBt");
    gameStartBtn.addEventListener("click", () => {
      gameModal.classList.remove("hidden");
      resultModal.classList.add("hidden");
      ResetAllGame();
    });

    //ê²Œì„ ëª¨ë‹¬
    const gameModal = document.getElementById("gameModal");
    const closeGameBtn = document.getElementById("closeGameModalBtn");
    closeGameBtn.addEventListener("click", () => {
      gameModal.classList.add("hidden");
    });
   

    // ëª¨ë‹¬ ë°”ê¹¥ í´ë¦­ ì‹œ ë‹«ê¸°
    modal.addEventListener("click", (e) => {
      if (e.target === modal) {
        modal.classList.add("hidden");
      }
    });





    //ê²°ê³¼ê°’ ëª¨ë‹¬
    const resultModal = document.getElementById("resultModal");
    const openBtnResult = document.getElementById("generateResultBtn");
    const closeResultBtn = document.getElementById("closeResultModalBtn");
    //const closeResultBtn2 = document.getElementById("closeResultModalBtn2");
    openBtnResult.addEventListener("click", () => {
      resultModal.classList.remove("hidden");
      //ë‚´ìš©ì¶”ê°€
      const value1 = document.getElementById("result-icons").innerHTML;
      const value2 = document.getElementById("result-sum").innerHTML;
      const value3 = document.getElementById("resultPn").innerHTML;
      document.getElementById("detailedResults").innerHTML =`
          
            ${value1}            
            <div class="columns-2 gap-2 space-y-2">${value3}</div>
            <div class="mb-4 gap-2 p-3 border rounded-md shadow text-md lg:text-lg sm:text-4xl mr-2 font-bold text-center">
            ${value2} 
            </div>
            <div class="mb-2 space-y-0">
              <h3 class="text-center lg:text-2xl sm:text-2xl font-bold">"${translations[currentLang].ment}"</h3>
              <h3 class="text-center lg:text-sm sm:text-lg font-bold mt-2">${translations[currentLang].title} ver ${version} | K0KK0R0</h3>
            </div>
          <h2>ã…¤</h2>
      `;
      
        //console.log( getSelectedItemList() );
    });
    closeResultBtn.addEventListener("click", () => {
      resultModal.classList.add("hidden");
    });
    /*
    closeResultBtn2.addEventListener("click", () => {
      resultModal.classList.add("hidden");
    });
    */
    // ëª¨ë‹¬ ë°”ê¹¥ í´ë¦­ ì‹œ ë‹«ê¸°
    resultModal.addEventListener("click", (e) => {
      if (e.target === resultModal) {
        resultModal.classList.add("hidden");
      }   
    });
    
    const saveImgBtn = document.getElementById("saveImgBt");
    saveImgBtn.addEventListener("click", () => {
      // ëª¨ë‹¬ ì•ˆì˜ í°ìƒ‰ ìƒìë§Œ ìº¡ì²˜
        const target = document.getElementById("detailedResults");
        html2canvas(target, { scale: 1.5, backgroundColor: "#ffffff" }).then(canvas => {
          const link = document.createElement("a");
          link.download = "B42stat_capture.png";
          link.href = canvas.toDataURL("image/png");
          link.click();
        });
      });
  </script>

  <script src="core.js">ã…¤</script>
  <script src="gameManager.js"></script>
  <script src="gameUI.js"></script>
  <script src="gameUI_iteminfo.js"></script>
  <script src="gameUI_storageInfo.js"></script>
  <script src="gameUI_itemsubmenu.js"></script>
  <script src="game_zombie.js"></script>
  <script src="game_player.js"></script> 
</body>
</html>

<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Project Zomboid B42 stats</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    
        <!-- 파비콘 추가 -->
        <link rel="icon" type="image/png" href="icons/Trait_fastlearner.png">
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen ">
  <div class="w-full lg:max-w-5xl lg:mx-auto bg-white rounded-xl shadow p-4">
    
    <!-- 왼쪽 전체 (스크롤되는 부분) -->
    <div class="flex-1 ">
      <!-- 상단 고정 영역 -->
      <div class="sticky top-0 bg-white z-10 p-4 rounded-2xl shadow-md max-h-[15vh]">
        <h2 class="lg:text-2xl sm:text-4xl font-bold mb-2 text-center">
          B42 project Zomboid 직업 및 특성 계산기 <span id="version-text"></span>
        </h2>

        <div class="flex space-x-2 mb-4">
          <!-- 모달 열기 버튼 -->
          <button id="openModalBtn" class="px-4 py-2 bg-blue-500 text-white lg:text-lg sm:text-2xl rounded-lg shadow">
            공지사항
          </button>
          <button id="lang-ko" class="px-4 py-2 lg:text-lg sm:text-2xl bg-gray-200 rounded">한국어</button>
          <button id="lang-en" class="px-4 py-2 lg:text-lg sm:text-2xl bg-gray-200 rounded">English</button>
        </div>
      </div>
  
    <!-- 반응형 레이아웃 -->
    <div class="grid grid-cols-2 grid-rows-2 gap-2  lg:flex lg:space-x-4 max-h-[70vh]">

      

      <!-- 결과 -->
      <div id="result-panel" class="border rounded-xl p-2 overflow-y-auto lg:w-40 min-w-[240px] mg-2">
        <div id="resultPn" class="lg:columns-1 sm:columns-2 gap-2">
          <h3 class="lg:text-lg sm:text-2xl font-bold text-center lg:hidden">결과</h3>
            <div id="result-sum" class="gap-2 p-3 border rounded-md bg-white shadow lg:text-md sm:text-2xl mr-2 font-bold text-center text-green-600">
              합계: 0
            </div>
            <div id="result-strength" class="gap-2 px-2 py-1 border rounded-md bg-white shadow lg:text-sm sm:text-2xl mr-2 text-center text-black-600">
              근력: 0
            </div>
            <div id="result-fitness" class="gap-2 px-2 py-1 border rounded-md bg-white shadow lg:text-sm sm:text-2xl mr-2 text-center text-black-600">
              체력: 0
            </div>
          
        </div>
        <div id="result-icons">
            <!-- 직업 아이콘 -->
            <div id="job-icons" class="flex justify-center gap-2 mb-2"></div>

            <!-- 일반 아이콘 -->
            <div id="other-icons" class="flex flex-wrap justify-center gap-2 mr-1"></div>
          </div>
      </div>
      <!-- 직업 -->
      <div id="jobs" class="border rounded-md p-2 overflow-y-auto lg:flex-1 min-w-[200px] ">
        <h3 class="text-lg font-bold text-center lg:hidden">직업</h3>
      </div>
      <!-- 긍정 -->
      <div id="positive-items" class="border rounded-md p-2 overflow-y-auto lg:flex-1 min-w-[150px]">
        <h3 class="text-lg font-bold text-center lg:hidden">긍정</h3>
      </div>

      <!-- 부정 -->
      <div id="negative-items" class="border rounded-md p-2 overflow-y-auto lg:flex-1 min-w-[150px]">
        <h3 class="text-lg font-bold text-center lg:hidden">부정</h3>
      </div>

    </div>
  </div>



<!-- 모달 (처음엔 hidden) -->
<div id="modal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
  <div class="bg-white rounded-2xl shadow-xl w-192 p-6 relative">
    <!-- 닫기 버튼 -->
    <button id="closeModalBtn" class="absolute top-2 right-2 text-gray-600 hover:text-black">
      ✕
    </button>
    
    <h2 class="text-xl font-bold mb-4">공지사항 </h2>
    <p class="mb-2">📢 <span id="version-text2"></span> 업데이트 안내</p>
    
    <p class="mb-2">- 모바일 지원(2x2그리드) </p>
    <p class="mb-2">- 중복으로 선택 불가능한 트레잇 작업 중</p>    
    <p class="mb-2">- Crafty(재주꾼) 특성 추가</p>
    <p class="mb-2">- 선택한 트레잇 아이콘이 결과창에 뜨도록 수정</p>
    <p class="mb-2">- 긍정/부정특성이 서로 반대 색으로 표시되던 문제 수정</p>
    <p>** 본 항목은 정확하지 않을 수 있습니다. ** </p>
    <p>자세한 내용은 공식 위키와 프좀갤을 참고하세요</p>
    
    <div class="mt-4 text-right">
      <button id="closeModalBtn2" class="px-4 py-2 bg-gray-200 rounded-lg">닫기</button>
    </div>
  </div>
</div>



<script>
  const version = "0.4.12.4"; // ← 버전 숫자 변수
  document.getElementById("version-text").textContent = `ver ${version}`;
  document.getElementById("version-text2").textContent = `ver ${version}`;

  const modal = document.getElementById("modal");
  const openBtn = document.getElementById("openModalBtn");
  const closeBtn = document.getElementById("closeModalBtn");
  const closeBtn2 = document.getElementById("closeModalBtn2");

  openBtn.addEventListener("click", () => {
    modal.classList.remove("hidden");
  });

  closeBtn.addEventListener("click", () => {
    modal.classList.add("hidden");
  });

  closeBtn2.addEventListener("click", () => {
    modal.classList.add("hidden");
  });

  // 모달 바깥 클릭 시 닫기
  modal.addEventListener("click", (e) => {
    if (e.target === modal) {
      modal.classList.add("hidden");
    }
  });
</script>

<script src="core.js">  </script>
   
</body>
</html>
